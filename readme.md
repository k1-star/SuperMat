# AI4Science: ææ–™å¸¦éš™é¢„æµ‹é¡¹ç›®

æœ¬é¡¹ç›®ä½¿ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•ï¼ŒåŸºäºææ–™çš„åŒ–å­¦å¼å’Œè´¹ç±³èƒ½çº§ï¼ˆ`efermi`ï¼‰é¢„æµ‹ææ–™çš„èƒ½éš™ï¼ˆ`band_gap`ï¼‰ã€‚é¡¹ç›®ä½¿ç”¨ **Materials Project** æ•°æ®åº“å’Œ **Matminer** ç‰¹å¾åŒ–å·¥å…·ï¼Œç»“åˆ **éšæœºæ£®æ—ï¼ˆRandom Forestï¼‰å›å½’æ¨¡å‹**ï¼Œå®Œæˆä»æ•°æ®ä¸‹è½½ã€ç‰¹å¾æå–ã€æ•°æ®é›†åˆ’åˆ†ã€æ¨¡å‹è®­ç»ƒåˆ°é¢„æµ‹çš„å®Œæ•´æµç¨‹ã€‚

---

## ğŸ”¹ é¡¹ç›®ç»“æ„
```
AI4Science/
â”‚
â”œâ”€ data/
â”‚ â”œâ”€ download.py # ä¸‹è½½ææ–™æ•°æ®
â”‚ â”œâ”€ feature.py # ç‰¹å¾å·¥ç¨‹
â”‚ â”œâ”€ split.py # æ•°æ®é›†åˆ’åˆ†
â”‚ â””â”€ raw_materials.pkl # ä¸‹è½½çš„åŸå§‹æ•°æ®
â”‚
â”œâ”€ models/
â”‚ â”œâ”€ test.py # æ¨¡å‹è®­ç»ƒè„šæœ¬
â”‚ â”œâ”€ baseline_rf.pkl # è®­ç»ƒå¥½çš„éšæœºæ£®æ—æ¨¡å‹
â”‚ â””â”€ feature_columns.pkl # è®­ç»ƒç‰¹å¾åˆ—é¡ºåº
â”‚
â”œâ”€ predict/
â”‚ â””â”€ predict.py # è¾“å…¥åŒ–å­¦å¼+efermié¢„æµ‹å¸¦éš™
â”‚
â””â”€ README.md
```

---

## ğŸ”¹ å·¥ä½œæµç¨‹è¯´æ˜

### 1. æ•°æ®ä¸‹è½½ï¼ˆ`download_materials_data.py`ï¼‰
- ä½¿ç”¨ **Materials Project API** ä¸‹è½½ææ–™æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š
  - `material_id`ã€`formula`ã€`structure`ã€`band_gap`ã€`efermi`  
- ä¿å­˜ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ `raw_materials.pkl`ã€‚

### 2. ç‰¹å¾å·¥ç¨‹ï¼ˆ`feature_engineering.py`ï¼‰
- å°†åŒ–å­¦å¼è½¬æ¢ä¸º `Composition` å¯¹è±¡  
- ä½¿ç”¨ **Matminer çš„ Magpie ç‰¹å¾** æå–ææ–™å±æ€§ï¼ŒåŒ…æ‹¬ï¼š
  - å…ƒç´ å¹³å‡å±æ€§ï¼ˆå¦‚åŸå­é‡ã€ç”µå­äº²å’Œèƒ½ç­‰ï¼‰  
  - è¿™äº›æ•°å€¼åŒ–ç‰¹å¾æ„æˆæ¨¡å‹çš„è¾“å…¥  
- ç”Ÿæˆ `features.pkl` ä¿å­˜æ‰€æœ‰ç‰¹å¾

> ğŸ’¡ æç¤ºï¼šç›®å‰ç‰¹å¾ä»…ä»åŒ–å­¦å¼æå–ï¼Œåç»­å¯ç»“åˆç»“æ„ã€ç”µå­æ€å¯†åº¦ã€å£°å­è°±ç­‰æå–æ›´å¤šå‰æ²¿ç‰¹å¾ã€‚

### 3. æ•°æ®é›†åˆ’åˆ†ï¼ˆ`split_dataset.py`ï¼‰
- ç›®æ ‡å˜é‡ï¼š`band_gap`  
- è¾“å…¥ç‰¹å¾ï¼šMagpie ç‰¹å¾ + `efermi`  
- åˆ’åˆ†è®­ç»ƒé›† / éªŒè¯é›† / æµ‹è¯•é›†ï¼ˆæ¯”ä¾‹ 70% / 15% / 15%ï¼‰  
- ä¿å­˜ä¸ºï¼š
  - `X_train.pkl`, `y_train.pkl`  
  - `X_val.pkl`, `y_val.pkl`  
  - `X_test.pkl`, `y_test.pkl`  
- åŒæ—¶ä¿å­˜è®­ç»ƒç‰¹å¾åˆ—é¡ºåº `feature_columns.pkl`ï¼ˆä¿è¯é¢„æµ‹æ—¶åˆ—é¡ºåºä¸€è‡´ï¼‰

### 4. æ¨¡å‹è®­ç»ƒï¼ˆ`train_baseline.py`ï¼‰
- ä½¿ç”¨ **éšæœºæ£®æ—å›å½’æ¨¡å‹**  
- è¾“å…¥è®­ç»ƒç‰¹å¾ï¼ˆMagpie + efermiï¼‰å’Œç›®æ ‡ `band_gap`  
- è®­ç»ƒå®Œæˆåï¼š
  - ä¿å­˜æ¨¡å‹ä¸º `baseline_rf.pkl`  
  - ä¿å­˜è®­ç»ƒç‰¹å¾åˆ—é¡ºåºä¸º `feature_columns.pkl`

### 5. é¢„æµ‹ï¼ˆ`predict/predict.py`ï¼‰
- è¾“å…¥ï¼š
  - ææ–™åŒ–å­¦å¼ï¼ˆå¦‚ `LiFePO4`ï¼‰  
  - å¯¹åº”çš„ `efermi`  
- ç”Ÿæˆ Magpie ç‰¹å¾ + `efermi`  
- æŒ‰è®­ç»ƒæ—¶ç‰¹å¾åˆ—é¡ºåºæ’åˆ— â†’ ä¼ å…¥æ¨¡å‹é¢„æµ‹ `band_gap`  
- è¾“å‡ºé¢„æµ‹ç»“æœï¼ˆeVï¼‰

---

## ğŸ”¹ ç‰¹å¾å¤„ç†æµç¨‹å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Magpie_x1   â”‚ Magpie_x2   â”‚ ...   â”‚ efermi     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2.31        â”‚ 1.83        â”‚ ...   â”‚ 5.0        â”‚  â† ææ–™1
â”‚ 3.14        â”‚ 2.01        â”‚ ...   â”‚ 4.8        â”‚  â† ææ–™2
â”‚ 1.97        â”‚ 1.66        â”‚ ...   â”‚ 5.3        â”‚  â† ææ–™3
â”‚ ...         â”‚ ...         â”‚ ...   â”‚ ...        â”‚  â† ...
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
è¿™é‡Œçš„Magpieç‰¹å¾åŒ…æ‹¬åŸå­é‡,ç”µè´Ÿæ€§ç­‰ç‰¹å¾ã€‚
```
```text
 åŒ–å­¦å¼ + efermi
        â”‚
        â–¼
  Composition å¯¹è±¡
        â”‚
        â–¼
   Magpie ç‰¹å¾æå–
        â”‚
        â–¼
  ç‰¹å¾çŸ©é˜µï¼ˆæ•°å€¼åŒ–ï¼‰
        â”‚
        â–¼
  è¡¥é½ efermi åˆ—ï¼ˆé¢„æµ‹æ—¶ä½¿ç”¨ï¼‰
        â”‚
        â–¼
  æŒ‰è®­ç»ƒé¡ºåºæ’åˆ—åˆ—
        â”‚
        â–¼
    æ¨¡å‹é¢„æµ‹ band_gap
```